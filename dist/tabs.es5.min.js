"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function initTabs(t){var e;if("string"==typeof t)e=t;else var e=t.selector,s=t.blockClassName;var a=!0,i=!1,n=void 0;try{for(var o,l=document.querySelectorAll(e)[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var r=o.value;new Tabs(r,s)}}catch(c){i=!0,n=c}finally{try{!a&&l["return"]&&l["return"]()}finally{if(i)throw n}}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,s,a){return s&&t(e.prototype,s),a&&t(e,a),e}}();exports["default"]=initTabs,function(t){function e(){t.closest=function(t){for(var e=this,s=!0;s;){var a=t;s=!1;{if(!e.parentNode)return null;if(e.matches(a))return e;t=a,s=!0}}}}t.closest||e()}(Element.prototype);var Tab=function(){function t(e,s,a){_classCallCheck(this,t),this.tabs=e,this.toggle=s,this.tab=a,this.init()}return _createClass(t,[{key:"init",value:function(){var t=this;this.src=this.tab.getAttribute("data-src"),null!==this.src&&(this.hasToBeLoaded=!0),this.toggle.classList.contains(this.tabs.activeToggleClassName)?this.open():this.close(),this.toggle.addEventListener("click",function(){t.open()})}},{key:"load",value:function(){var t=this,e=new XMLHttpRequest;this.hasToBeLoaded=!1,e.open("GET",encodeURI(this.src)),e.onload=function(){200===e.status||304===e.status?t.tab.innerHTML=e.responseText:t.hasToBeLoaded=!0},e.onerror=function(t){console.error(t)},e.send()}},{key:"open",value:function(){this.tabs.active!==this&&(this.hasToBeLoaded&&this.load(),this.tabs.active&&this.tabs.active.close(),this.tabs.active=this,this.tab.style.display="block",this.toggle.classList.add(this.tabs.activeToggleClassName))}},{key:"close",value:function(){this.tab.style.display="none",this.toggle.classList.remove(this.tabs.activeToggleClassName)}}]),t}(),Tabs=function(){function t(e){var s=arguments.length<=1||void 0===arguments[1]?"tabs":arguments[1];_classCallCheck(this,t),this.container=e,this.setClassNames(s),this.init()}return _createClass(t,[{key:"init",value:function(){var t=this,e=function(e){return e.closest("."+t.blockClassName)===t.container};if(this.toggles=Array.from(this.container.querySelectorAll(this.toggleSelector)).filter(e),this.tabs=Array.from(this.container.querySelectorAll(this.tabSelector)).filter(e),this.isEverythingOk())for(var s=0;s<this.toggles.length;s++)new Tab(this,this.toggles[s],this.tabs[s])}},{key:"setClassNames",value:function(t){this.blockClassName=t,this.toggleSelector="."+t+"__toggle",this.tabSelector="."+t+"__tab",this.activeToggleClassName=t+"__toggle_active"}},{key:"isEverythingOk",value:function(){return this.toggles.length!==this.tabs.length?(console.warn("Tabs toggles and tabs amounts are not matching"),!1):0===this.toggles.length?(console.warn("There's no toggles for tabs"),!1):0===this.tabs.length?(console.warn("There's no content tabs"),!1):!0}}]),t}();exports.Tabs=Tabs;